/****************************************************************//**
 * @file    spi_xfer.h
 * @author  Yoav Shvartz
 * @date    01.04.2022
 * 
 * @brief   This file contains the SPI drivers' declaration
 * @details 
 * 
 * @copyright Mobile-Group. All rights reserved.
 *******************************************************************/
#ifndef _SPI_XFER_H_
#define _SPI_XFER_H_

/*******************************************************************/
/*******************************************************************/
/*                           INCLUDES                              */
/*******************************************************************/
/*******************************************************************/
#include <stdint.h>
#include "esp_err.h"

/*******************************************************************/
/*******************************************************************/
/*                    DEFINITIONS & MACROS                         */
/*******************************************************************/
/*******************************************************************/
#define SPI_MAX_XFER_SIZE (64)

/*******************************************************************/
/*******************************************************************/
/*                 INTERFACE FUNCTIONS DECLARATION                 */
/*******************************************************************/
/*******************************************************************/
esp_err_t spi_xfer_init(void);
esp_err_t spi_xfer_buf(int cs, uint8_t cmd, uint8_t *tx_buf, uint8_t *rx_buf, int len);

void spi_xfer_exit(void);
int spi_xfer_write_buf(int cs, uint8_t *data, uint16_t len);
int spi_xfer_read_buf(int cs, uint8_t *data, uint16_t len);
void spi_xfer_debug(void);

#endif /* _SPI_XFER_H_ */
